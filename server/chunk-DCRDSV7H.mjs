import './polyfills.server.mjs';
import{A as p,Aa as B,B as G,C as f,D as S,E as i,F as r,H as o,I as d,J as u,K as g,L as h,b as P,e as m,fa as I,j as b,n as v,na as _,oa as E,s as l,u as M,ua as x,v as L,ya as A}from"./chunk-56EGAWON.mjs";import"./chunk-X2SEQXRR.mjs";var k=class t{_httpClient=m(E);getLeagueData(e){return this._httpClient.get("/api/getLeagueData",{params:new _().set("league",e)})}static \u0275fac=function(a){return new(a||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})};var w=class t{transform(e){return console.log("'"+e+"'"),e=e.includes("<b>")?e.slice(3,-4):e,this._clubNameMap[e]||e}_clubNameMap={"  Pogo\uFFFD 1945 Stasz\uFFFDw  ":"Pogo\u0144 1945 Stasz\xF3w","  Spartakus Daleszyce  ":"Spartakus Daleszyce","  Sparta Kazimierza Wielka  ":"Sparta Kazimierza Wielka","  Wierna Ma\uFFFDogoszcz  ":"Wierna Ma\u0142ogoszcz","  Hetman W\uFFFDoszczowa  ":"Hetman W\u0142oszczowa","  GKS Rudki  ":"GKS Rudki","  AKS 1947 Busko Zdr\uFFFDj  ":"AKS 1947 Busko Zdr\xF3j","  Klimontowianka Klimont\uFFFDw  ":"Klimontowianka Klimont\xF3w","  \uFFFDKS \uFFFDag\uFFFDw  ":"\u0141KS \u0141ag\xF3w","  Alit O\uFFFDar\uFFFDw  ":"Alit O\u017Car\xF3w","  Neptun Ko\uFFFDskie  ":"Neptun Ko\u0144skie","  GKS Nowiny (Sitk\uFFFDwka-Nowiny)  ":"GKS Nowiny (Sitk\xF3wka-Nowiny)","  Arka Paw\uFFFD\uFFFDw  ":"Arka Paw\u0142\xF3w","  \uFFFDysica Bodzentyn  ":"\u0141ysica Bodzentyn","  Naprz\uFFFDd J\uFFFDdrzej\uFFFDw  ":"Naprz\xF3d J\u0119drzej\xF3w","  Granat Skar\uFFFDysko-Kamienna  ":"Granat Skar\u017Cysko-Kamienna","  Moravia Morawica  ":"Moravia Morawica","  Orl\uFFFDta Kielce  ":"Orl\u0119ta Kielce","  Wicher Miedziana G\uFFFDra  ":"Wicher Miedziana G\xF3ra","  Piast Stopnica  ":"Piast Stopnica","  Astra Piekosz\uFFFDw  ":"Astra Piekosz\xF3w","  Star II Starachowice  ":"Star II Starachowice","  Partyzant Wodzis\uFFFDaw  ":"Partyzant Wodzis\u0142aw","  Partyzant Radoszyce  ":"Partyzant Radoszyce","  Kamienna Brody  ":"Kamienna Brody","  Piaskowianka Piaski  ":"Piaskowianka Piaski","  Orlicz Suchedni\uFFFDw  ":"Orlicz Suchedni\xF3w","  Stal Kun\uFFFDw  ":"Stal Kun\xF3w","  Wis\uFFFDa Sandomierz  ":"Wis\u0142a Sandomierz","  GKS G\uFFFDrno  ":"GKS G\xF3rno","  Victoria Skalbmierz  ":"Victoria Skalbmierz","  Nida Pi\uFFFDcz\uFFFDw  ":"Nida Pi\u0144cz\xF3w","  Victoria Mni\uFFFDw  ":"Victoria Mni\xF3w","  Politechnika \uFFFDwi\uFFFDtokrzyska Kielce  ":"Politechnika \u015Awi\u0119tokrzyska Kielce","  KKP Korona Kielce  ":"KKP Korona Kielce","  GKS Fa\uFFFDk\uFFFDw  ":"GKS Fa\u0142k\xF3w","  Gr\uFFFDd \uFFFDmi\uFFFDsk  ":"Gr\xF3d \u0106mi\u0144sk","  Sok\uFFFD Rykoszyn  ":"Sok\xF3\u0142 Rykoszyn","  Eska Skar\uFFFDysko-Kamienna  ":"Eska Skar\u017Cysko-Kamienna","  Moravia II Morawica  ":"Moravia II Morawica","  KS Smyk\uFFFDw  ":"KS Smyk\xF3w","  GOKiS Mas\uFFFD\uFFFDw  ":"GOKiS Mas\u0142\xF3w","  Nidzianka Bieliny  ":"Nidzianka Bieliny","  Lechia Strawczyn  ":"Lechia Strawczyn","  Polonia Bia\uFFFDogon (Kielce)  ":"Polonia Bia\u0142ogon (Kielce)","  Granat Borki  ":"Granat Borki","  Bucovia Bukowa  ":"Bucovia Bukowa","  Jawornik Gorzk\uFFFDw  ":"Jawornik Gorzk\xF3w","  Zryw Skroni\uFFFDw  ":"Zryw Skroni\xF3w","  Nida Sobk\uFFFDw  ":"Nida Sobk\xF3w","  Gr\uFFFDd Wi\uFFFDlica  ":"Gr\xF3d Wi\u015Blica","  Unia S\uFFFDdzisz\uFFFDw  ":"Unia S\u0119dzisz\xF3w","  Zenit Chmielnik  ":"Zenit Chmielnik","  LKS Bolmin  ":"LKS Bolmin","  Nida Oksa  ":"Nida Oksa","  Wis\uFFFDa Nowy Korczyn  ":"Wis\u0142a Nowy Korczyn","  Nidzica Dobies\uFFFDawice  ":"Nidzica Dobies\u0142awice","  GKS Kluczewsko  ":"GKS Kluczewsko"};static \u0275fac=function(a){return new(a||t)};static \u0275pipe=L({name:"polish",type:t,pure:!0})};var N=()=>({liga:"4"}),O=()=>({liga:"okregowka"}),W=()=>({liga:"a"}),R=()=>({liga:"b"}),F=(t,e)=>e.name;function q(t,e){if(t&1&&(i(0,"tr")(1,"td"),o(2),g(3,"polish"),r(),i(4,"td"),o(5),g(6,"polish"),r(),i(7,"td"),o(8),r()()),t&2){let a=e.$implicit;l(2),d(h(3,3,a.homeTeam)),l(3),d(h(6,5,a.awayTeam)),l(3),d(a.date)}}function j(t,e){if(t&1&&(i(0,"div",3)(1,"div",4)(2,"h4",5),o(3),r()(),i(4,"table",6)(5,"thead")(6,"tr")(7,"th",7),o(8,"Gospodarze"),r(),i(9,"th",7),o(10,"Go\u015Bcie"),r(),i(11,"th",7),o(12,"Termin"),r()()(),i(13,"tbody"),f(14,q,9,7,"tr",null,G),r()()()),t&2){let a=e.$implicit;l(3),d(a.name),l(11),S(a.matches)}}var D={Four:{queryParamList:["4"],name:["IV liga"],restParam:["4"]},Okregowka:{queryParamList:["5","okregowka","okr","klasa-okregowa","liga-okregowa"],name:["Klasa okr\u0119gowa"],restParam:["5"]},A:{queryParamList:["a","klasa-a","klasaa","a-klasa"],name:["Klasa A, grupa: Kielce I","Klasa A, grupa: Kielce II"],restParam:["a1","a2"]},B:{queryParamList:["b","klasa-b","klasab","bklasa"],name:["Klasa B, grupa: Kielce I","Klasa B, grupa: Kielce II"],restParam:["b1","b2"]}},C=class t{_appRestService=m(k);_activatedRoute=m(x);_platformId=m(v);tableDisplayed=null;LEAGUES=D;title="schedule";leagues=b([]);html="";entries=Object.entries(D);ngOnInit(){I(this._platformId)&&this._activatedRoute.queryParams.subscribe(e=>{this.leagues.set([]);let a=e.liga,n=!0;if(a)for(let[s,c]of this.entries)c.queryParamList.includes(a)&&(console.log("to liga: ",c.name),this.fetchData(c),n=!1);n&&this.fetchData()})}fetchData(e){if(e)this._fetchDataforLeague(e);else for(let[a,n]of this.entries)this._fetchDataforLeague(n)}_fetchDataforLeague(e){e.restParam.forEach((a,n)=>{this._appRestService.getLeagueData(a).subscribe(s=>{let c=this._getAllMatchTableElements(s);for(let K of c){let z=!1;if(Array.from(K.firstElementChild.children).forEach(y=>{y&&y.hasAttribute("data-date")&&y.hasAttribute("data-away")&&(z=!0)}),z){this._fetchTableData(K,e.name[n]);break}}})})}_getAllMatchTableElements(e){return new DOMParser().parseFromString(e,"text/html").querySelectorAll('table.main[cellpadding="1"]')}_fetchTableData(e,a){console.log("fetch upcoming: ",e,a);let n=[];for(let s of e.firstElementChild?.children??[])if(s.getAttribute("align")==="left"&&s.children.length>3){console.log("tr: ",s);let c={homeTeam:s.children[0].innerHTML,awayTeam:s.children[2].innerHTML,date:s.children[3].innerHTML};n.push(c)}this.leagues.update(s=>[...s,{name:a,matches:n}])}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=M({type:t,selectors:[["app-root"]],decls:11,vars:12,consts:[[1,"btn-group","flex","justify-content-center",2,"display","flex","margin","3rem"],["aria-current","page",1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"container","my-5"],[1,"bg-light","p-3","rounded","shadow-sm","mb-3"],[1,"m-0","text-dark","text-center"],[1,"table","table-striped"],["scope","col"]],template:function(a,n){a&1&&(i(0,"div",0)(1,"a",1),o(2,"IV liga"),r(),i(3,"a",2),o(4,"Klasa okr\u0119gowa"),r(),i(5,"a",2),o(6,"Klasa A"),r(),i(7,"a",2),o(8,"Klasa B"),r()(),f(9,j,16,1,"div",3,F)),a&2&&(l(),p("routerLink","/")("queryParams",u(8,N)),l(2),p("routerLink","/")("queryParams",u(9,O)),l(2),p("routerLink","/")("queryParams",u(10,W)),l(2),p("routerLink","/")("queryParams",u(11,R)),l(2),S(n.leagues()))},dependencies:[w,B,A],styles:[".sc-fit-content[_ngcontent-%COMP%]{max-width:fit-content}"]})};export{D as LEAGUES,C as ScMainComponent};
